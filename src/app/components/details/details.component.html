<app-navegation></app-navegation>
<div class="container page mb-3 ">

    <div class="row d-flex justify-content-center m-3">
        <div class="col-10  mt-3 ">
            <h2>{{post.title}}</h2>
        </div>
        <hr width="100%">
    </div>

    <div class="row  ml-3 mr-3 mt-2 d-flex justify-content-center pb-3">


        <div class="col-lg-10 ">
            <div class="row ">
                <div class="col-lg-10 col-md-10 col-10 d-flex justify-content-start">
                    <p class="pr-3">Publicado el {{ post.createdAt | date: 'dd/MM/yyyy, h:mm a'}}</p>
                </div>

                <div class="col-lg-2 col-md-2 col-2 d-flex justify-content-end">
                    <button mat-button (click)="giveReaction()" class="example-icon pr-3">
                        {{ reactions }}
                        <mat-icon class="example-icon" [ngClass]="{'liked': exist, 'no-liked': !exist}"
                            id="icon-reaction-id" aria-hidden="false" aria-label="Example delete icon">favorite
                        </mat-icon>
                    </button>

                </div>
            </div>
            <hr width="100%">
        </div>

        <div class="col-lg-10">
            <div class="col-lg-8 d-flex justify-content-start p-0 m-0" style="float: left;">
                <img class="image" style="width: 90%;" *ngIf="post.images.length > 0" src="{{post.images[0].url}}"
                    alt="img">
            </div>
            <p class="angular-with-newlines">
                {{ post.content }}
            </p>
        </div>





        <hr width="100%">

        <!-- // -->


    </div>

    <div class="row  d-flex justify-content-center">

        <div class="row d-flex justify-content-center  comments ml-3 mr-3 mt-2  pb-3">
            <div class="col-lg-10">
                <h5>Commentarios</h5>
                <div class="box-comment">
                    <div class="form-group box-comment-container">
                        <div class="row p-0 m-0">
                            <div class="col-lg-10">
                                <input [(ngModel)]="comment.comment" type="text" class="box-comment"
                                    id="exampleInputEmail1" aria-describedby="emailHelp"
                                    placeholder="Escribe un comentario...">
                            </div>
                            <div class="col-lg-2">
                                <Button (click)="commentPost()" [ngClass]="{'send': comment.comment}"
                                    [disabled]="comment.comment === '' || comment.comment === undefined"
                                    class="send-button">Comentar</Button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="col-lg-10 mt-2" *ngFor="let comment of comments">
                <mat-card class="content-comments p-2 m-0">

                    <div class="row">
                        <div class="col-lg-1 col-md-1 col-1 d-flex align-items-center">

                            <mat-card-header>
                                <div mat-card-avatar class="example-header-image"></div>
                            </mat-card-header>

                        </div>
                        <div class="col-lg-11 col-md-11 col-11">
                            <mat-card-content class="pb-0 mb-0">
                                <p class="pb-0 mb-0" style="color: #9e9e9e; text-align: end;">
                                    {{comment.createdAt | amTimeAgo}}</p>
                                <p class="text-comment p-0 m-0">
                                    {{comment.comment}}
                                </p>
                            </mat-card-content>
                            <div class="row  d-flex justify-content-end">
                                <Button [style.visibility]="comment.commentedBy === myUID ? 'visible' : 'hidden'"
                                    class="remove-button pr-3 " (click)="deleteComment(comment._id)">Eliminar
                                    comentario</Button>
                            </div>
                        </div>
                    </div>

                </mat-card>
            </div>


        </div>
    </div>




</div>